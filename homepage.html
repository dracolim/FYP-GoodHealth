<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- INSTALLATIONS -->
    <!-- flowbite -->
    <link href="node_modules/flowbite/dist/flowbite.min.css" rel="stylesheet" />
    <!-- Tailwind -->
    <link rel="stylesheet" href="css/tailwind.css">
    <!-- ICONIFY -->
    <script src="css/iconify-icon.min.js"></script>
    <!-- <script src="https://code.iconify.design/iconify-icon/1.0.2/iconify-icon.min.js"></script> -->
    <!-- LOCAL VUE 2.7.14 -->
    <script src="node_modules/vue/dist/vue.js"></script>
    <!-- LOCAL Tabulator  -->
    <link href="node_modules/tabulator-tables/dist/css/tabulator_semanticui.css" rel="stylesheet">
    <script type="text/javascript" src="node_modules/tabulator-tables/dist/js/tabulator.js"></script>
    <!-- ExcelJS -->
    <script src="node_modules/exceljs/dist/exceljs.min.js"></script>
    <script src="node_modules/xlsx/dist/xlsx.full.min.js"></script>
    <!-- LOCAL Axios -->
    <script src="node_modules/axios/dist/axios.min.js"></script>
    <!-- Local ChartJS -->
    <!-- <script src="../node_modules/chart.js/dist/chart.js"></script> -->
    <script src="node_modules/Chart.js/dist/Chart.min.js"></script>
    <!-- Vue-Chartjs -->
    <script src="node_modules/vue-chartjs/dist/vue-chartjs.js"></script>
    <!-- Vuetify -->
    <script src="node_modules/vuetify/dist/vuetify.min.js"></script>

    <title>SingHealth</title>
</head>

<body>

    <div id="main-container">

        <!-- header -->
        <div class="bg-stone-100 border-gray-200 px-2 sm:px-4 py-2.5 rounded ">
            <div class="container flex flex-wrap items-center justify-between mx-auto"
                style="width: 100%; overflow: hidden;">
                <a href="#" onclick="location.reload();">
                    <img src="images/SingHealth_Logo.png" class="mr-3 sm:h-15 ml-3 mt-2 mb-2"
                        style="height: 80px; width: 100px;" alt="Flowbite Logo" />
                </a>


                <div class="flex md:order-2">
                    <a href="#" onclick="location.reload();" style="margin-right: 10px;">
                        <iconify-icon icon="ic:round-home" style="color: #ff6b00;" width="40" height="40">
                        </iconify-icon>
                    </a>


                    <button data-collapse-toggle="navbar-sticky" type="button"
                        class="inline-flex items-center p-2 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 "
                        aria-controls="navbar-cta" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20"
                            xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
                                clip-rule="evenodd"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Navbar -->
        <nav class="bg-white">
            <div class="items-center justify-between hidden w-full md:flex md:width-auto  md:order-1" id="navbar-sticky"
                style="width: 100%; overflow: hidden; ">
                <ul
                    class="overflow-x-auto md:divide-x md:divide-slate-200 flex flex-col p-2 border border-gray-100 rounded-lg bg-gray-50 md:flex-row  md:mt-0 md:text-sm md:font-medium md:border-0 md:bg-white">
                    <li>
                        <a href="./homepage.html"
                            class="lg:text-sm md:text-sm ml-5 mr-4 block py-2 pl-3 pr-2 text-white bg-orange-500 rounded md:bg-transparent md:text-orange-500 md:p-0">
                            Home</a>
                    </li>
                    <li>
                        <a href="tab_pages/personal_details.html"
                            class="lg:text-sm md:text-sm ml-5 mr-4 block py-2 pl-3 pr-4 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-orange-500 md:p-0">Personal
                            Details</a>
                    </li>
                    <li>
                        <a data-dropdown-toggle="dropdownDelay" data-dropdown-delay="500" data-dropdown-trigger="click">
                            <div class="md:flex">
                                <span
                                    class="lg:text-sm md:text-sm ml-5 mr-1 block py-2 pl-3 pr-4 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-orange-500 md:p-0">
                                    History</span>
                                <iconify-icon icon="gridicons:dropdown" width="20px" class="hidden md:flex mr-1">
                                </iconify-icon>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="tab_pages/involvement.html"
                            class="lg:text-sm md:text-sm ml-5 mr-4 block py-2 pl-3 pr-4 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-orange-500 md:p-0">
                            Involvement</a>
                    </li>
                    <li>
                        <a href="tab_pages/grants.html"
                            class="lg:text-sm md:text-sm  ml-5 mr-4 block py-2 pl-3 pr-4 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-orange-500 md:p-0">
                            Grants</a>
                    </li>
                    <li>
                        <a href="tab_pages/publications.html"
                            class="lg:text-sm md:text-sm  ml-5 mr-4 block py-2 pl-3 pr-4 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-orange-500 md:p-0">
                            Publications</a>
                    </li>
                    <li>
                        <a href="tab_pages/presentations.html"
                            class="lg:text-sm md:text-sm  ml-5 mr-4 block py-2 pl-3 pr-4 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-orange-500 md:p-0">Presentations</a>
                    </li>
                    <li>
                        <a href="tab_pages/awards.html"
                            class="lg:text-sm md:text-sm ml-5 mr-4 block py-2 pl-3 pr-4 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-orange-500 md:p-0">
                            Awards</a>
                    </li>
                    <li>
                        <a href="tab_pages/didactic_attendance.html"
                            class="lg:text-sm md:text-sm ml-5 mr-4 block py-2 pl-3 pr-4 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-orange-500 md:p-0"
                            aria-current="page">
                            Didactic Attendance</a>
                    </li>
                    <li>
                        <a href="tab_pages/projects.html"
                            class="lg:text-sm md:text-sm  ml-5 mr-4 block py-2 pl-3 pr-4 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-orange-500 md:p-0">Projects</a>
                    </li>
                    <li>
                        <a href="tab_pages/ihi.html"
                            class="lg:text-sm md:text-sm  ml-5 mr-4 block py-2 pl-3 pr-4 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-orange-500 md:p-0">IHI</a>
                    </li>
                    <li>
                        <a href="tab_pages/duty_hour_log.html"
                            class="lg:text-sm md:text-sm ml-5 mr-4 block py-2 pl-3 pr-4 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-orange-500 md:p-0">Duty
                            Hour Log</a>
                    </li>
                    <li>
                        <a href="tab_pages/procedure_log.html"
                            class="lg:text-sm md:text-sm  ml-5 mr-4 block py-2 pl-3 pr-4 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-orange-500 md:p-0">Procedure
                            Log</a>
                    </li>
                    <li>
                        <a href="tab_pages/case_log.html"
                            class="lg:text-sm md:text-sm ml-5 mr-4 block py-2 pl-3 pr-4 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-orange-500 md:p-0">Case
                            Log</a>
                    </li>
                    <li>
                        <a href="tab_pages/evaluations.html"
                            class="lg:text-sm md:text-sm ml-5 mr-4 block py-2 pl-3 pr-4 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-orange-500 md:p-0">Evaluation</a>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- History menu -->
        <div id="dropdownDelay"
            class="z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow sm:w-full md:w-44 ">
            <ul class="py-2 text-sm text-gray-700" aria-labelledby="dropdownDelayButton">
                <li>
                    <a href="tab_pages/history_education.html" class="block px-4 py-2 hover:bg-gray-100 ">Education</a>
                </li>
                <li>
                    <a href="tab_pages/history_posting.html" class="block px-4 py-2 hover:bg-gray-100 ">Posting</a>
                </li>
                <li>
                    <a href="tab_pages/history_exam.html" class="block px-4 py-2 hover:bg-gray-100 ">Exam</a>
                </li>
                <li>
                    <a href="tab_pages/history_trg_ext_remediation.html" class="block px-4 py-2 hover:bg-gray-100 ">Trg
                        Ext. &
                        Remediation</a>
                </li>
            </ul>
        </div>

        <!-- Orange Divider -->
        <div class='row' style='height: 8px; background-color: #ff6b00;'></div>

        <!-- Graph Goes Here -->
        <div class="container mx-auto pt-4">

            <div id="app">
                <v-row>
                    <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 pt-3 text-right "
                        for="grid-first-name">
                        Resident count: {{total}}
                    </label>
                </v-row>
                <v-row>

                    <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 pt-3"
                        for="grid-first-name">
                        ACADEMIC YEAR (AY):
                    </label>
                    <input v-model="year"
                        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-red-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white"
                        id="grid-first-name" type="text" placeholder="Input Year Here">

                    <label for="hs-select-label"
                        class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 pt-3">PROGRAMME FOR
                        PROCEDURE LOGS</label>
                    <select v-model="programme"
                        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-red-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white">
                        <option v-for="programme in programmes2">{{programme}}</option>
                    </select>

                    <button @click="getAllData()"
                        class="bg-[#ea580c] hover:bg-[#292524] text-white font-bold py-2 px-4 rounded">
                        Get Overview Info
                    </button>
                    <br>
                    <br>

                </v-row>
                <v-row dense>
                    <v-col cols="sm">
                        <v-card class="pa-2" outlined tile raised>
                            <br>
                            <div style="display:flex;">
                                <my-bar-chart1 style="width:25%;height:30vh" v-if="didacticLoaded"
                                    :bar-data="didacticChartConfig" :chart-options="didacticOptions"></my-bar-chart1>
                                <my-donut-chart style="width:25%;height:30vh" v-if="scholarlyLoaded"
                                    :donut-data="scholarlyChartConfig"
                                    :chart-options="scholarlyOptions"></my-donut-chart>
                                <my-donut-chart style="width:25%;height:30vh" v-if="ihiLoaded"
                                    :donut-data="IHIchartConfig" :chart-options="IHIoptions"></my-donut-chart>
                                <my-donut-chart style="width:25%;height:30vh" v-if="projectsLoaded"
                                    :donut-data="projectChartConfig" :chart-options="projectOptions"></my-donut-chart>
                            </div>

                            <br>
                            <div style="display:flex;">
                                <my-line-chart style="width:75%;height:30vh" v-if="dutyLoaded"
                                    :line-data="dutyChartConfig" :chart-options="dutyHourOptions"></my-line-chart>
                                <my-donut-chart style="width:25%;height:30vh" v-if="caseLoaded"
                                    :donut-data="caseChartConfig" :chart-options="caseOptions"></my-donut-chart>
                            </div>

                            <br>
                            <div style="display:flex;">
                                <my-bar-chart style="width:100%;" v-if="procedureLoaded"
                                    :bar-data="procedureChartConfig" :chart-options="procedureOptions"></my-bar-chart>
                            </div>
                            <!-- <my-line-chart v-if="loaded" :line-data="dutyChartConfig" :chart-options="dutyHourOptions"></my-line-chart>
                      <my-donut-chart v-if="loaded" :donut-data="IHIchartConfig" :chart-options="IHIoptions"></my-donut-chart>
                      <my-donut-chart v-if="loaded" :donut-data="scholarlyChartConfig" :chart-options="scholarlyOptions"></my-donut-chart>
                      <my-donut-chart v-if="loaded" :donut-data="projectChartConfig" :chart-options="projectOptions"></my-donut-chart>
                      <my-bar-chart v-if="loaded" :bar-data="didacticChartConfig" :chart-options="didacticOptions"></my-bar-chart> -->

                        </v-card>
                    </v-col>
                </v-row>

                <br>
                <v-row v-if="showNonCompliantResidentsInput">
                    <label for="hs-select-label" class="block text-sm font-medium mb-2 dark:text-black">Non-Compliant
                        Residents For:</label>
                    <select v-model="nonCompliantResident"
                        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-red-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white">
                        <option v-for="chart in charts">{{chart}}</option>
                    </select>

                    <button @click="getNonCompliantTable()"
                        class="bg-[#ea580c] hover:bg-[#292524] text-white font-bold py-2 px-4 rounded">
                        Get Non-Compliant Residents
                    </button>
                    <br>
                    <br>

                    <!-- table to show noncompliance for didactic attendance -->
                    <div v-if="nonCompliantResidentDidacticArray.length > 0 && showDidacticTable">
                        <table class="table-auto">
                            <thead>
                                <p class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">
                                    Non-Compliant Residents for Didactic Attendance</p>
                                <tr>
                                    <th class="border px-4 py-2 bg-orange-600 text-white font-bold">Index</th>
                                    <th class="border px-4 py-2 bg-orange-600 text-white font-bold">MCR No.</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="(resident, index) in nonCompliantResidentDidacticArray"
                                    :key="resident.MCR_No">
                                    <td class="border px-4 py-2 bg-gray-300">{{ index + 1 }}</td>
                                    <td class="border px-4 py-2 bg-gray-300">{{ resident.MCR_No }}</td>
                                </tr>
                            </tbody>
                        </table>
                        <br>
                        <br>
                    </div>

                    <!-- table to show noncompliance for IHI-->
                    <div v-if="nonCompliantResidentIHIArray.length > 0 && showIHITable">
                        <table class="table-auto">
                            <thead>
                                <p class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">
                                    Non-Compliant Residents for IHI</p>
                                <tr>
                                    <th class="border px-4 py-2 bg-orange-600 text-white font-bold">Index</th>
                                    <th class="border px-4 py-2 bg-orange-600 text-white font-bold">MCR No.</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="(resident, index) in nonCompliantResidentIHIArray" :key="resident.MCR_No">
                                    <td class="border px-4 py-2 bg-gray-300">{{ index + 1 }}</td>
                                    <td class="border px-4 py-2 bg-gray-300">{{ resident.MCR_No }}</td>
                                </tr>
                            </tbody>
                        </table>
                        <br>
                        <br>
                    </div>

                    <!-- table to show noncompliance for Projects-->
                    <div v-if="nonCompliantResidentProjectsArray.length > 0 && showProjectsTable">
                        <table class="table-auto">
                            <thead>
                                <p class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">
                                    Non-Compliant Residents for Projects</p>
                                <tr>
                                    <th class="border px-4 py-2 bg-orange-600 text-white font-bold">Index</th>
                                    <th class="border px-4 py-2 bg-orange-600 text-white font-bold">MCR No.</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="(resident, index) in nonCompliantResidentProjectsArray"
                                    :key="resident.MCR_No">
                                    <td class="border px-4 py-2 bg-gray-300">{{ index + 1 }}</td>
                                    <td class="border px-4 py-2 bg-gray-300">{{ resident.MCR_No }}</td>
                                </tr>
                            </tbody>
                        </table>
                        <br>
                        <br>
                    </div>

                    <!-- table to show noncompliance for Procedure Logs-->
                    <div v-if="nonCompliantResidentProcedureLogsArray.length > 0 && showProcedureLogsTable">
                        <table class="table-auto">
                            <thead>
                                <p class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">
                                    Non-Compliant Residents for Procedure Logs</p>
                                <tr>
                                    <th class="border px-4 py-2 bg-orange-600 text-white font-bold">Index</th>
                                    <th class="border px-4 py-2 bg-orange-600 text-white font-bold">MCR No.</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="(resident, index) in nonCompliantResidentProcedureLogsArray[0]"
                                    :key="resident.MCR_No">
                                    <td class="border px-4 py-2 bg-gray-300">{{ index + 1 }}</td>
                                    <td class="border px-4 py-2 bg-gray-300">{{ resident.MCR_No }}</td>
                                </tr>
                            </tbody>
                        </table>
                        <br>
                        <br>
                    </div>

                    <!-- table to show noncompliance for Duty Logs -->
                    <div v-if="nonCompliantResidentDutyArray.length > 0 && showDutyTable">
                        <table class="table-auto">
                            <thead>
                                <p class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">
                                    Non-Compliant Residents for Duty Hour Logs</p>
                                <tr>
                                    <th class="border px-4 py-2 bg-orange-600 text-white font-bold">Index</th>
                                    <th class="border px-4 py-2 bg-orange-600 text-white font-bold">MCR No.</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="(resident, index) in nonCompliantResidentDutyArray" :key="resident">
                                    <td class="border px-4 py-2 bg-gray-300">{{ index + 1 }}</td>
                                    <td class="border px-4 py-2 bg-gray-300">{{ resident }}</td>
                                </tr>
                            </tbody>
                        </table>
                        <br>
                        <br>
                    </div>
                    <!-- table to show noncompliance for Scholarly Activities -->
                    <div v-if="nonCompliantResidentScholarlyArray.length > 0 && showScholarlyTable">
                        <table class="table-auto">
                            <thead>
                                <p class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">
                                    Non-Compliant Residents for Scholarly Activities Logs</p>
                                <tr>
                                    <th class="border px-4 py-2 bg-orange-600 text-white font-bold">Index</th>
                                    <th class="border px-4 py-2 bg-orange-600 text-white font-bold">MCR No.</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="(resident, index) in nonCompliantResidentScholarlyArray" :key="resident">
                                    <td class="border px-4 py-2 bg-gray-300">{{ index + 1 }}</td>
                                    <td class="border px-4 py-2 bg-gray-300">{{ resident }}</td>
                                </tr>
                            </tbody>
                        </table>
                        <br>
                        <br>
                    </div>
                    <!-- table to show noncompliance for Case Logs -->
                    <div v-if="nonCompliantResidentCaseArray.length > 0 && showCaseTable">
                        <table class="table-auto">
                            <thead>
                                <p class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">
                                    Non-Compliant Residents for Case Logs</p>
                                <tr>
                                    <th class="border px-4 py-2 bg-orange-600 text-white font-bold">Index</th>
                                    <th class="border px-4 py-2 bg-orange-600 text-white font-bold">MCR No.</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="(resident, index) in nonCompliantResidentCaseArray" :key="resident">
                                    <td class="border px-4 py-2 bg-gray-300">{{ index + 1 }}</td>
                                    <td class="border px-4 py-2 bg-gray-300">{{ resident }}</td>
                                </tr>
                            </tbody>
                        </table>
                        <br>
                        <br>
                    </div>
                </v-row>
            </div>

        </div>

    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.3/flowbite.min.js"></script>


    <!--- JAVASCRIPT -->
    <script>

        Vue.component('my-line-chart', {
            extends: VueChartJs.Line,
            props: ['lineData', 'chartOptions'],
            mounted() {
                this.renderChart(this.lineData, this.chartOptions);
            },
        }, {
            responsive: true,
            maintainAspectRatio: false
        })
        Vue.component('my-donut-chart', {
            extends: VueChartJs.Doughnut,
            props: ['donutData', 'chartOptions'],
            mounted() {
                this.renderChart(this.donutData, this.chartOptions);
            },
        }, {
            responsive: true,
            maintainAspectRatio: false
        })
        Vue.component('my-bar-chart1', {
            extends: VueChartJs.Bar,
            props: ['barData', 'chartOptions'],
            mounted() {
                this.renderChart(this.barData, this.chartOptions);
            },
        }, {
            responsive: true,
            maintainAspectRatio: false
        })
        Vue.component('my-bar-chart', {
            extends: VueChartJs.HorizontalBar,
            props: ['barData', 'chartOptions'],
            mounted() {
                this.renderChart(this.barData, this.chartOptions);
            },
        }, {
            responsive: true,
            maintainAspectRatio: false
        })


    </script>
    <script src="./overviewDashboard.js"></script>
</body>

</html>